var app,columns,dataFields,report="HistoryWeight",filtered=!1,setup={backgroundline:"rgb(255, 153, 153)",populateSelect:function(){entryUtil.populateSelectWithSpecifiedComboData("animal","animal",["nickName"],!0,"/getAllWithDescriptionAndWeight/",void 0,void 0,void 0,$.t("select.values.default"),!0),entryUtil.populateSelectWithSpecifiedComboData("lot","lot",["name"],!0,"/getAllWithWeight/",void 0,void 0,void 0,$.t("select.values.default"),!0)},bindActions:function(){$(".report-action").click(function(){switch($(this).data("action")){case"filter":entryUtil.validateFields("#report-filter")&&(reportUtil.tableLoad(!0),dataFields=entryUtil.buildEntryJson("#report-filter"));break;case"clear":reportUtil.clearFilters();break;default:console.log("Report Action UNDEFINED")}}),$("#periodOption").on("change",function(t){setup.renderPeriodDiv($("#periodOption").val())}),$("#typeOption").on("change",function(t){setup.renderTypeDiv($("#typeOption").val())})},renderPeriodDiv:function(t){2==t?$("#period-div").removeClass("d-none"):$("#period-div").addClass("d-none")},renderTypeDiv:function(t){1==t?($("#type-animal-div").removeClass("d-none"),$("#type-lot-div").addClass("d-none")):($("#type-animal-div").addClass("d-none"),$("#type-lot-div").removeClass("d-none"))},bindTableActions:function(){$(".table-action").click(function(){$(this).data("action"),console.log("Table Action UNDEFINED")})},openWindowChart:function(){$("#chart-modal").modal("show");var t=new google.visualization.LineChart(document.getElementById("container-chart")),e=new google.visualization.DataTable;e.addColumn("date","Date"),e.addColumn("number",$.t("report.weighing.fields.weight"));var i,a,o=$("#report-table").DataTable(),n=o.data().count();for(a=0;a<n;a++)i=o.rows(a).data(),e.addRow([new Date(i[0].weighingDate),i[0].weight]);var l={vAxis:{title:$.t("report.weighing.chart.weightKG")},hAxis:{title:$.t("dashboard.axis.periodMonthAndYear"),format:"M/yyyy"},legend:{position:"bottom"},width:460,height:300};t.clearChart(),t.draw(e,l)},reportInXlsPDF:function(t){propertyId=localStorage.getItem("property_id"),typeOption=$("#typeOption").val(),periodOption=$("#periodOption").val(),animalId=$("#animal").val(),lotId=$("#lot").val(),startDate=""==$("#startDate").val()?null:$("#startDate").val().replace(/(\/)/g,"-"),endDate=""==$("#endDate").val()?null:$("#endDate").val().replace(/(\/)/g,"-"),window.location=app.api+"api/historyWeightReport/reportoutput/"+t+"/"+propertyId+"/"+typeOption+"/"+periodOption+"/"+animalId+"/"+lotId+"/"+startDate+"/"+endDate+"/"+app.locale},tableSetup:function(){columns=[{data:"weight",responsivePriority:1,render:function(t){return t?app.htmlEncode(t):"-"}},{data:"weighingDate",responsivePriority:1,render:function(t){return t?app.htmlEncode(app.getDateTime(t,"DD/MM/YYYY")):"-"}}]},init:function(t){console.log("reportWeighing.js"),document.title=$.t("report.weighing.title"),app=t,setup.populateSelect(),setup.bindActions(),setup.tableSetup(),google.charts.load("current",{packages:["corechart"]})}};