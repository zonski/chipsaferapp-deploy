var app,table,entry="resource",setup={bindActions:function(){$(".entry-action").click(function(){switch($(this).data("action")){case"addOpen":case"addCancel":render.switchTop();break;case"submit":entryUtil.validateFields()&&entryUtil.entryCrud(entry,"submit");break;default:console.log("Entry Action UNDEFINED")}}),$("#resourceType").change(function(){var e=$("#resourceType option:selected").data("measurement");$("#capacity").attr("placeholder",e),$("#capacity").next(".measure").html(e)})},bindTableActions:function(){$(".table-action").click(function(){switch($(this).data("action")){case"edit":entryUtil.entryCrud(entry,"get",$(this).data("id"));break;case"delete":var e=$(this).data("id");app.notify("warning",$.t("notify.warning"),$.t("entry.deleteConfirm",{entry:$.t(entry+".name")}),!0,function(t){t&&entryUtil.entryCrud(entry,"delete",e)});break;default:console.log("Table Action UNDEFINED")}})},tableSetup:function(){var e=[{data:"id",visible:!1,render:function(e){return app.htmlEncode(e)}},{data:"name",render:function(e){return e?app.htmlEncode(e):"-"}},{data:"width",render:function(e){return e?app.htmlEncode(String(e).replace(".",",")+" m"):"-"}},{data:"heigth",render:function(e){return e?app.htmlEncode(String(e).replace(".",",")+" m"):"-"}},{data:"depth",render:function(e){return e?app.htmlEncode(String(e).replace(".",",")+" m"):"-"}},{data:null,render:function(e){if(e.capacity){var t=e.resourceType.measurement?e.resourceType.measurement:"";return app.htmlEncode(String(e.capacity).replace(".",",")+" "+t)}return"-"}},{data:"resourceType",render:function(e){return e?app.htmlEncode(e.name):"-"}},{data:null,render:function(e){return render.renderActions(e.id,e.id,e.locked)}}];entryUtil.tableLoad(e,!1)},populateSelects:function(){entryUtil.populateSelect("resourceType",["name"],!1,"","","measurement")},init:function(e){console.log("entryResource.js"),document.title=$.t("resource.title"),app=e,this.bindActions(),this.populateSelects(),this.tableSetup()}};